"use strict";(self.webpackChunkreact_tps_storage=self.webpackChunkreact_tps_storage||[]).push([[119],{119:(e,l,i)=>{i.r(l),i.d(l,{default:()=>v});var s=i(791);const o=i.p+"static/media/pdf.e46e54cc7fbd85424cf19a5c05e92ae3.svg";const t=i.p+"static/media/png.3fedc2dc9eaedd7d2b63b8cc610515ff.svg";i.p;i.p;const n=i.p+"static/media/jpg.cb06bc5a556439af217d1461986cf2ad.svg";i.p;i.p;i.p;i.p;i.p;i.p;const a={default:i.p+"static/media/default.71f4128fab9a4b8ba187336cbf8d5f9d.svg",pdf:o,png:t,jpeg:n};var r=i(911),d=i(184);const c=e=>{var l,i,o;const[t,n]=(0,s.useState)(!1),[a,r]=(0,s.useState)(null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:{FirstName:"Choose",LastName:"Designer!"});(0,s.useEffect)((()=>{null===e||void 0===e||e.onChange(a,null===e||void 0===e?void 0:e.indexOfFile)}),[a]);const c=(0,s.useRef)(null);var p;return p=c,(0,s.useEffect)((()=>{function e(e){p.current&&!p.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[p]),(0,d.jsxs)("div",{ref:c,className:"select-none relative z-[10]",children:[(0,d.jsxs)("div",{onClick:()=>null!==e&&void 0!==e&&e.isDone?n(!1):n(!t),className:"rounded-[5px] flex justify-between gap-4 items-center py-[10px] px-[15px] border-[1px] border-solid border-[#EBEBEB] cursor-pointer",children:[(0,d.jsx)("p",{className:"LineText mr-[5px]",children:null!==e&&void 0!==e&&e.value?(null===e||void 0===e||null===(l=e.value)||void 0===l?void 0:l.FirstName)+" "+(null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.LastName):a.FirstName+" "+a.LastName}),(0,d.jsx)("span",{className:"".concat((t?"-rotate-180":"")+" transition"," "),children:(0,d.jsx)("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M3.99987 3.60002L6.59987 1.00002C6.72209 0.877794 6.87765 0.816683 7.06654 0.816683C7.25542 0.816683 7.41098 0.877794 7.5332 1.00002C7.65542 1.12224 7.71654 1.27779 7.71654 1.46668C7.71654 1.65557 7.65542 1.81113 7.5332 1.93335L4.46654 5.00002C4.39987 5.06668 4.32765 5.11379 4.24987 5.14135C4.17209 5.16891 4.08876 5.1829 3.99987 5.18335C3.91098 5.18335 3.82765 5.16935 3.74987 5.14135C3.67209 5.11335 3.59987 5.06624 3.5332 5.00002L0.466536 1.93335C0.344314 1.81113 0.283203 1.65557 0.283203 1.46668C0.283203 1.27779 0.344314 1.12224 0.466536 1.00002C0.588758 0.877795 0.744314 0.816683 0.933203 0.816683C1.12209 0.816683 1.27765 0.877795 1.39987 1.00002L3.99987 3.60002Z",fill:"#1A1A1A"})})})]}),t&&(0,d.jsx)("div",{className:"absolute left-0 top-[100%] bg-white shadow-custom border-[1px] border-solid border-[#EBEBEB] w-full overflow-y-auto max-h-72 z-[10]",children:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.map(((e,l)=>(0,d.jsx)("div",{className:"py-[10px] px-[15px] w-full cursor-pointer hover:bg-[#EBEBEB]",onClick:()=>{r(e),n(!1)},children:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName)},"option"+l)))})]})};var p=i(393);const u=()=>{const{id:e}=(0,r.UO)(),l=(0,s.useRef)(null),[i,o]=(0,s.useState)(),[t,n]=(0,s.useState)([]),[u,v]=(0,s.useState)([]),[x,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[h,C]=(0,s.useState)(!1),[b,w]=(0,s.useState)(0);(0,s.useEffect)((()=>{j()}),[]),(0,s.useEffect)((()=>{console.log(t)}),[t]);const j=()=>{p.b.post("/api/employees").then((e=>{console.log(e.data.data),v(e.data.data)})).catch((e=>{console.log(e)}))},N=async()=>{f(!0),t.every((e=>{var l,i;return(null===e||void 0===e||null===(l=e.designer)||void 0===l?void 0:l.approveDesigner)&&(null===e||void 0===e||null===(i=e.designer)||void 0===i?void 0:i.Oid)}))?(await Promise.all(null===t||void 0===t?void 0:t.map((async e=>{var l,i;let s=new FormData;s.append("brief",e.file),s.append("designer",null===(l=e.designer)||void 0===l?void 0:l.Oid),s.append("file",e.file,null===(i=e.file)||void 0===i?void 0:i.name),await p.b.post("/api/briefs/files/add",s,{onUploadProgress:e=>{const l=Math.round(e.loaded/e.total*100);w(l)}}).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)}))}))),console.log("All designers are selected. Do something here.")):C(!0)};return(0,d.jsxs)("div",{className:"file_form max-w-[450px] m-auto border-[1px] border-solid border-[#EBEBEB] rounded-[10px]",children:[(0,d.jsxs)("div",{className:"file_form-inner py-[30px] px-[50px] bg-white",children:[null===t||void 0===t?void 0:t.map(((e,l)=>{var i,s,o,r,p,v,f,m,g;return(0,d.jsxs)("div",{className:"file_item border-l-0 border-t-0 border-r-0 border-b border-solid border-[#EBEBEB] pb-5 mb-5",children:[(0,d.jsxs)("div",{className:"file_load w-full flex items-start",children:[(0,d.jsx)("span",{className:"file_load-icon block min-w-[24px] w-6 h-6 mr-[14px]",children:(0,d.jsx)("img",{className:"min-w-[30px] object-contain block",src:a[null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.type.split("/")[1]]||a.default,alt:""})}),(0,d.jsxs)("div",{className:"file_load-group w-full",children:[(0,d.jsxs)("div",{className:"file_load-row flex items-start justify-between",children:[(0,d.jsx)("h6",{className:"file_load-name text-[16px] font-normal leading-[1.3] mr-[15px] LineText max-w-[220px]",children:null===e||void 0===e||null===(s=e.file)||void 0===s?void 0:s.name}),(0,d.jsx)("p",{className:"file_load-size text-[16px] font-normal leading-[1.3] text-[#808080]",children:(null===e||void 0===e?void 0:e.file)&&((null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.size)/1024>1e3?((null===e||void 0===e||null===(r=e.file)||void 0===r?void 0:r.size)/1024/1024).toFixed(2)+"MB":((null===e||void 0===e||null===(p=e.file)||void 0===p?void 0:p.size)/1024).toFixed(2)+"KB")})]}),(0,d.jsx)("span",{className:"file_load-progress block w-full h-1 bg-[#EBEBEB] rounded-[2px] mt-[5px]",children:(0,d.jsx)("div",{style:{width:"".concat(b<100?b:100,"%"),backgroundColor:"#1E7E2E"},className:" w-full h-1"})})]})]}),(0,d.jsxs)("div",{className:"file_select mt-[10px] ml-[30px] block",children:[(0,d.jsxs)("div",{onClick:()=>(e=>{let l=t;l.splice(e,1),n([...l])})(l),className:"cursor-pointer flex items-center mt-2 mb-4",children:[(0,d.jsx)("span",{className:"block w-4 h-4 mr-2",children:(0,d.jsx)("svg",{className:"w-full h-full object-contain block",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M2.66663 12C2.29996 12 1.98618 11.8696 1.72529 11.6087C1.4644 11.3478 1.33374 11.0338 1.33329 10.6667V2C1.1444 2 0.986182 1.936 0.858626 1.808C0.73107 1.68 0.66707 1.52178 0.666626 1.33333C0.666626 1.14444 0.730626 0.986222 0.858626 0.858667C0.986626 0.731111 1.14485 0.667111 1.33329 0.666667H3.99996C3.99996 0.477778 4.06396 0.319556 4.19196 0.192C4.31996 0.0644445 4.47818 0.000444444 4.66663 0H7.33329C7.52218 0 7.68063 0.0640001 7.80863 0.192C7.93663 0.32 8.0004 0.478222 7.99996 0.666667H10.6666C10.8555 0.666667 11.014 0.730667 11.142 0.858667C11.27 0.986667 11.3337 1.14489 11.3333 1.33333C11.3333 1.52222 11.2693 1.68067 11.1413 1.80867C11.0133 1.93667 10.8551 2.00044 10.6666 2V10.6667C10.6666 11.0333 10.5362 11.3473 10.2753 11.6087C10.0144 11.87 9.7004 12.0004 9.33329 12H2.66663ZM9.33329 2H2.66663V10.6667H9.33329V2ZM5.99996 7.26667L7.26663 8.53333C7.38885 8.65555 7.5444 8.71667 7.73329 8.71667C7.92218 8.71667 8.07774 8.65555 8.19996 8.53333C8.32218 8.41111 8.38329 8.25556 8.38329 8.06667C8.38329 7.87778 8.32218 7.72222 8.19996 7.6L6.93329 6.33333L8.19996 5.06667C8.32218 4.94444 8.38329 4.78889 8.38329 4.6C8.38329 4.41111 8.32218 4.25556 8.19996 4.13333C8.07774 4.01111 7.92218 3.95 7.73329 3.95C7.5444 3.95 7.38885 4.01111 7.26663 4.13333L5.99996 5.4L4.73329 4.13333C4.61107 4.01111 4.45551 3.95 4.26663 3.95C4.07774 3.95 3.92218 4.01111 3.79996 4.13333C3.67774 4.25556 3.61663 4.41111 3.61663 4.6C3.61663 4.78889 3.67774 4.94444 3.79996 5.06667L5.06663 6.33333L3.79996 7.6C3.67774 7.72222 3.61663 7.87778 3.61663 8.06667C3.61663 8.25556 3.67774 8.41111 3.79996 8.53333C3.92218 8.65555 4.07774 8.71667 4.26663 8.71667C4.45551 8.71667 4.61107 8.65555 4.73329 8.53333L5.99996 7.26667Z",fill:"#EB2F2F"})})}),(0,d.jsx)("p",{className:"text-[#EB2F2F] text-[13px] font-normal leading-[1.3]",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),(0,d.jsx)(c,{isDone:null===e||void 0===e||null===(v=e.designer)||void 0===v?void 0:v.approveDesigner,onChange:(e,l)=>((e,l)=>{console.log(e);let i=t;i[l].designer=e,n([...i])})(e,l),options:u,value:null===e||void 0===e?void 0:e.designer,indexOfFile:l}),!x||null!==e&&void 0!==e&&null!==(f=e.designer)&&void 0!==f&&f.Oid?(0,d.jsx)("div",{}):(0,d.jsx)("span",{className:" file_select-alert block text-[14px] font-normal leading-[1.3] text-[#EB2F2F] mt-[16px]",children:"! \u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430"}),(0,d.jsxs)("div",{onClick:()=>(e=>{var l;let i=t;null!==(l=i[e].designer)&&void 0!==l&&l.Oid&&(i[e].designer.approveDesigner=!0,n([...i]))})(l),className:"flex  items-center justify-between w-full mt-3",children:[(0,d.jsx)("p",{className:"".concat((null!==e&&void 0!==e&&null!==(m=e.designer)&&void 0!==m&&m.Oid?"!cursor-pointer opacity-100":" !pointer-events-none opacity-50")+" transition","  file_select-btn text-[16px] font-normal leading-[1.3] block bg-transparent  ").concat(100===b?"text-[#1E7E2E] !cursor-auto":""),children:100===b?"\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),(0,d.jsx)("span",{className:"".concat((null!==e&&void 0!==e&&null!==(g=e.designer)&&void 0!==g&&g.approveDesigner?"":"hidden")+" transition"," w-[20px] h-[20px] block"),children:(0,d.jsx)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"block w-full h-full object-contain",children:(0,d.jsx)("path",{d:"M4.00005 6.60005L9.90005 0.700048C10.0834 0.516715 10.3167 0.425049 10.6 0.425049C10.8834 0.425049 11.1167 0.516715 11.3 0.700048C11.4834 0.883382 11.575 1.11671 11.575 1.40005C11.575 1.68338 11.4834 1.91672 11.3 2.10005L4.70005 8.70005C4.50005 8.90005 4.26672 9.00005 4.00005 9.00005C3.73338 9.00005 3.50005 8.90005 3.30005 8.70005L0.700048 6.10005C0.516715 5.91672 0.425049 5.68338 0.425049 5.40005C0.425049 5.11671 0.516715 4.88338 0.700048 4.70005C0.883382 4.51672 1.11672 4.42505 1.40005 4.42505C1.68338 4.42505 1.91672 4.51672 2.10005 4.70005L4.00005 6.60005Z",fill:"#1E7E2E"})})})]})]})]},"files"+l)})),(0,d.jsx)("input",{onChange:l=>(l=>{console.log(l.target.files[0]),o(l.target.files[0]);let i=t;i.push({file:l.target.files[0],brief:e,designer:"",approveDesigner:!1,isLoading:!1}),n([...i])})(l),ref:l,accept:"image/*, .pdf",type:"file",className:"hidden"}),(0,d.jsxs)("button",{onClick:()=>{l.current.click()},className:"addMore mt-[10px] ml-[30px] bg-transparent cursor-pointer flex items-center text-[14px] font-normal leading-[1.3]",children:[(0,d.jsx)("span",{className:"block w-[14px] h-[14px] mr-[10px]",children:(0,d.jsx)("svg",{className:"block w-full h-full object-contain",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M13 7.99805H8V12.998C8 13.2633 7.89464 13.5176 7.70711 13.7052C7.51957 13.8927 7.26522 13.998 7 13.998C6.73478 13.998 6.48043 13.8927 6.29289 13.7052C6.10536 13.5176 6 13.2633 6 12.998V7.99805H1C0.734784 7.99805 0.48043 7.89269 0.292893 7.70515C0.105357 7.51762 0 7.26326 0 6.99805C0 6.73283 0.105357 6.47848 0.292893 6.29094C0.48043 6.1034 0.734784 5.99805 1 5.99805H6V0.998047C6 0.73283 6.10536 0.478476 6.29289 0.29094C6.48043 0.103403 6.73478 -0.00195313 7 -0.00195312C7.26522 -0.00195313 7.51957 0.103403 7.70711 0.29094C7.89464 0.478476 8 0.73283 8 0.998047V5.99805H13C13.2652 5.99805 13.5196 6.1034 13.7071 6.29094C13.8946 6.47848 14 6.73283 14 6.99805C14 7.26326 13.8946 7.51762 13.7071 7.70515C13.5196 7.89269 13.2652 7.99805 13 7.99805Z",fill:"black"})})}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b"]})]}),(0,d.jsx)("button",{onClick:()=>N(),className:" text-[18px] font-normal leading-[1.3] text-center w-full py-5 px-[10px] cursor-pointer bg-[#F5F5F5]",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]})},v=()=>(0,d.jsx)("section",{className:"file relative block py-[100px]",children:(0,d.jsx)("div",{className:"auto_container max-w-[1360px] m-auto relative px-[60px]",children:(0,d.jsx)("div",{className:"file_wrap",children:(0,d.jsx)(u,{onFileChange:e=>(e=>{console.log(e)})(e)})})})})},393:(e,l,i)=>{i.d(l,{b:()=>t});var s=i(294),o=i(703);const t=s.Z.create({baseURL:"http://216.250.8.93:8092/",timeout:1e5,headers:{Authorization:"Bearer "+(0,o.r)(),Accept:"application/json","Content-Type":"multipart/form-data; boundary=<calculated when request is sent>"}})},703:(e,l,i)=>{i.d(l,{bg:()=>s,r:()=>o});const s=()=>{if(localStorage.getItem("profile")){if(JSON.parse(localStorage.getItem("profile")).token)return!0;localStorage.removeItem("profile")}return!1},o=()=>{if(JSON.parse(localStorage.getItem("profile")))return JSON.parse(localStorage.getItem("profile")).token}}}]);
//# sourceMappingURL=119.fdbe3f8e.chunk.js.map