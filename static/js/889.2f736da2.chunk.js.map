{"version":3,"file":"static/js/889.2f736da2.chunk.js","mappings":"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","sources":["pages/login/login.jsx","utils/axiosInstance.js","utils/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport logo from \"../../images/logo.png\"\r\nimport { axiosInstance } from \"../../utils/axiosInstance\"\r\nimport { useHistory } from 'react-router-dom';\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    const [type, setType] = useState(\"password\");\r\n    const [user, setUser] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [is_error, setIs_error] = useState(false);\r\n    const userLogin = () => {\r\n        user.username?.length > 0 && user.password?.length > 0 && axiosInstance.post(\"/api/user/login\", {\r\n            username: user.username,\r\n            password: user.password\r\n        }).then((res) => {\r\n            console.log(res.data?.data)\r\n            if (res.data?.data?.token) {\r\n                setIs_error(false)\r\n                localStorage.setItem(\"profile\", JSON.stringify(res.data?.data));\r\n                history.push({ pathname: \"/\" })\r\n\r\n            } else {\r\n                console.log(res.data?.message)\r\n                setIs_error(true)\r\n            }\r\n\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            setIs_error(true)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <section className=\"login w-full min-h-screen flex items-center justify-center\">\r\n            <div className=\"login_wrap w-full\">\r\n                <div className=\"login_form w-[calc(100%-100px)] max-w-[340px] p-10 m-auto bg-white block\">\r\n                    <div className=\"logo w-full h-[56px] mb-10 \">\r\n                        <img src={logo} alt=\"logo\" className='block w-full h-full object-contain' />\r\n                    </div>\r\n\r\n                    <h2 className=\"login_title text-[28px] font-medium leading-[1.3] mb-5 \">\r\n                        Авторизация\r\n                    </h2>\r\n\r\n                    <div className=\"login_input w-full mb-5\">\r\n                        <label htmlFor=\"login_name\" className='text-[16px] font-normal block mb-[10px] '>Логин</label>\r\n                        <input onChange={(e) => setUser({ ...user, username: e.target.value })} value={user.username} id=\"login_name\" placeholder=\"Введите свой логин\" className='p-4 text-[14px] font-normal leading-[1.3] text-black border border-solid border-[#EBEBEB] rounded-[5px] w-full placeholder:[#808080]' />\r\n                    </div>\r\n\r\n                    <div className=\"login_input w-full mb-5\">\r\n                        <label htmlFor=\"password\" className='text-[16px] font-normal block mb-[10px] '>Пароль</label>\r\n                        <input type={type} id=\"password\" onChange={(e) => setUser({ ...user, password: e.target.value })} value={user.password} placeholder=\"Введите свой пароль\" className='p-4 text-[14px] font-normal leading-[1.3] text-black border border-solid border-[#EBEBEB] rounded-[5px] w-full placeholder:[#808080]' />\r\n\r\n                    </div>\r\n                    {\r\n                        is_error && <div>\r\n                            Error\r\n                        </div>\r\n                    }\r\n\r\n                    <button onClick={() => userLogin()} type=\"submit\" className=\"login_btn w-full block text-[18px] font-normal leadeing-[1.3] p-4 rounded-[10px] bg-[#333333] text-white cursor-pointer\">\r\n                        Войти\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;","import axios from 'axios'\r\nimport { token } from './index'\r\n\r\nconst BASE_URL = 'http://216.250.8.93:8092/'\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 100000,\r\n\r\n  headers: {\r\n    Authorization: 'Bearer ' + token(),\r\n    \"Accept\": \"application/json\",\r\n    'Content-Type': 'multipart/form-data; boundary=<calculated when request is sent>',\r\n    // Authorization:'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwibmFtZSI6IktlcmltIiwiaWF0IjoxNjE2NDUwNjU3fQ.v8iyHYmwNlKVhLUA7LzxybICB8zzbVjRyXeFZbV7IPw'\r\n  }\r\n})\r\nexport { BASE_URL, axiosInstance }","export const logout = () => {\r\n    localStorage.removeItem(\"profile\");\r\n};\r\n\r\nexport const isLogin = () => {\r\n    if (localStorage.getItem(\"profile\")) {\r\n        var data = JSON.parse(localStorage.getItem(\"profile\"));\r\n        if (data.token) {\r\n            return true;\r\n        } else {\r\n            localStorage.removeItem(\"profile\");\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nexport const token = () => {\r\n    if (JSON.parse(localStorage.getItem(\"profile\"))) {\r\n        var data = JSON.parse(localStorage.getItem(\"profile\"));\r\n        return data.token;\r\n    }\r\n};\r\n"],"names":["Login","history","useHistory","type","setType","useState","user","setUser","username","password","is_error","setIs_error","_jsx","className","children","_jsxs","src","logo","alt","htmlFor","onChange","e","target","value","id","placeholder","onClick","userLogin","_user$username","_user$password","length","axiosInstance","post","then","res","_res$data","_res$data2","_res$data2$data","_res$data3","_res$data4","console","log","data","token","localStorage","setItem","JSON","stringify","push","pathname","message","catch","err","axios","create","baseURL","timeout","headers","Authorization","isLogin","getItem","parse","removeItem"],"sourceRoot":""}